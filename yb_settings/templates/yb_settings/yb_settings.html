    {% load static %}
    
    <link rel="stylesheet" type="text/css" href="{% static 'css/yb_settings/yourbit_settings.css' %}"/>
    <div id='div-header' class="yb-autoText" style='position: sticky; top: 0px; z-index:10; display: grid; grid-template-columns: 24px 5fr 1fr; margin-left: auto; margin-right: auto; width: 100%; height: 40px;' >
        <div class="cb-panel-back" onclick="yb_toggleMainMenu()" style="position: relative;"><svg class="yb-center-margin tb" xmlns="http://www.w3.org/2000/svg" height="100%" viewBox="0 -960 960 960" width="24"><path class="yb-autoFill" d="M400-80 0-480l400-400 71 71-329 329 329 329-71 71Z"/></svg></div>
        <h3 class="yb-fillWidth yb-margin-L10 yb-autoText yb-center-margin tb">Settings</h3>
        <div class='yb-button-close' id='cb-panel-close' onclick='yb_toggle2WayContainer("settings")'><svg class="yb-center-transform all yb-icon small" xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 -960 960 960" width="24"><path d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"/></svg></div>
    </div>
    <div class="yb-fillWidth yb-vScroll yb-margin-T10 align-center" style="height: calc(100% - 100px); border-radius: 15px;">
        <div id="settings-container" style="padding-top: 0px;">
            <br>
            <p style="font-size: small; font-weight: 550; padding-left: 5px; padding-right: 5px; font-family: 'Roboto', sans-serif; text-align: center;" class="yb-autoText">Manage account, content, and privacy settings here.</p>    
            <br>


                <div class="settingsBox" id="void-subscription" name="subscription">
                    <svg class="yb-autoFill"style="grid-column: 1;" xmlns="http://www.w3.org/2000/svg" height="32" viewBox="0 -960 960 960" width="32"><path d="M480-40q-112 0-206-51T120-227v107H40v-240h240v80h-99q48 72 126.5 116T480-120q75 0 140.5-28.5t114-77q48.5-48.5 77-114T840-480h80q0 91-34.5 171T791-169q-60 60-140 94.5T480-40Zm-36-160v-52q-47-11-76.5-40.5T324-370l66-26q12 41 37.5 61.5T486-314q33 0 56.5-15.5T566-378q0-29-24.5-47T454-466q-59-21-86.5-50T340-592q0-41 28.5-74.5T446-710v-50h70v50q36 3 65.5 29t40.5 61l-64 26q-8-23-26-38.5T482-648q-35 0-53.5 15T410-592q0 26 23 41t83 35q72 26 96 61t24 77q0 29-10 51t-26.5 37.5Q583-274 561-264.5T514-250v50h-70ZM40-480q0-91 34.5-171T169-791q60-60 140-94.5T480-920q112 0 206 51t154 136v-107h80v240H680v-80h99q-48-72-126.5-116T480-840q-75 0-140.5 28.5t-114 77q-48.5 48.5-77 114T120-480H40Z"/></svg>
                    <h3 class="setting-header" style="grid-column: 2;">Subscription</h3>
                </div>

                <div class="settingsBox" id="account-settings" name="account">
                    <svg class="yb-autoFill" style="grid-column: 1;" xmlns="http://www.w3.org/2000/svg" height="32" viewBox="0 -960 960 960" width="32"><path d="M400-480q-66 0-113-47t-47-113q0-66 47-113t113-47q66 0 113 47t47 113q0 66-47 113t-113 47ZM80-160v-112q0-33 17-62t47-44q51-26 115-44t141-18h14q6 0 12 2-8 18-13.5 37.5T404-360h-4q-71 0-127.5 18T180-306q-9 5-14.5 14t-5.5 20v32h252q6 21 16 41.5t22 38.5H80Zm560 40-12-60q-12-5-22.5-10.5T584-204l-58 18-40-68 46-40q-2-14-2-26t2-26l-46-40 40-68 58 18q11-8 21.5-13.5T628-460l12-60h80l12 60q12 5 22.5 11t21.5 15l58-20 40 70-46 40q2 12 2 25t-2 25l46 40-40 68-58-18q-11 8-21.5 13.5T732-180l-12 60h-80Zm40-120q33 0 56.5-23.5T760-320q0-33-23.5-56.5T680-400q-33 0-56.5 23.5T600-320q0 33 23.5 56.5T680-240ZM400-560q33 0 56.5-23.5T480-640q0-33-23.5-56.5T400-720q-33 0-56.5 23.5T320-640q0 33 23.5 56.5T400-560Zm0-80Zm12 400Z"/></svg>
                    
                    <h3 class="setting-header" style="grid-column: 2;" id="account-settings-header"> Account </h3>
                    

                </div>

                <div class="settingsBox" id="profile-settings" name="profile">
                    <svg class="yb-autoFill" style="grid-column: 1;" xmlns="http://www.w3.org/2000/svg" height="32" viewBox="0 -960 960 960" width="32"><path d="M234-276q51-39 114-61.5T480-360q69 0 132 22.5T726-276q35-41 54.5-93T800-480q0-133-93.5-226.5T480-800q-133 0-226.5 93.5T160-480q0 59 19.5 111t54.5 93Zm246-164q-59 0-99.5-40.5T340-580q0-59 40.5-99.5T480-720q59 0 99.5 40.5T620-580q0 59-40.5 99.5T480-440Zm0 360q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q53 0 100-15.5t86-44.5q-39-29-86-44.5T480-280q-53 0-100 15.5T294-220q39 29 86 44.5T480-160Zm0-360q26 0 43-17t17-43q0-26-17-43t-43-17q-26 0-43 17t-17 43q0 26 17 43t43 17Zm0-60Zm0 360Z"/></svg>

                    <h3 class="setting-header" id="profile-settings-header" style="grid-column: 2;"> Profile information </h3>

                </div>
                
                <div class="settingsBox" id="personalization" name="customize">
                    <svg class="yb-autoFill" style="grid-column: 1;" xmlns="http://www.w3.org/2000/svg" height="32" viewBox="0 -960 960 960" width="32"><path d="M480-80q-82 0-155-31.5t-127.5-86Q143-252 111.5-325T80-480q0-83 32.5-156t88-127Q256-817 330-848.5T488-880q80 0 151 27.5t124.5 76q53.5 48.5 85 115T880-518q0 115-70 176.5T640-280h-74q-9 0-12.5 5t-3.5 11q0 12 15 34.5t15 51.5q0 50-27.5 74T480-80Zm0-400Zm-220 40q26 0 43-17t17-43q0-26-17-43t-43-17q-26 0-43 17t-17 43q0 26 17 43t43 17Zm120-160q26 0 43-17t17-43q0-26-17-43t-43-17q-26 0-43 17t-17 43q0 26 17 43t43 17Zm200 0q26 0 43-17t17-43q0-26-17-43t-43-17q-26 0-43 17t-17 43q0 26 17 43t43 17Zm120 160q26 0 43-17t17-43q0-26-17-43t-43-17q-26 0-43 17t-17 43q0 26 17 43t43 17ZM480-160q9 0 14.5-5t5.5-13q0-14-15-33t-15-57q0-42 29-67t71-25h70q66 0 113-38.5T800-518q0-121-92.5-201.5T488-800q-136 0-232 93t-96 227q0 133 93.5 226.5T480-160Z"/></svg>
                    <h3 class="setting-header" style="grid-column: 2;" id="personalize-header">Personalization</h3>
                </div>

                <div class="settingsBox" id="privacy" name="privacy">
                    <svg class="yb-autoFill" style="grid-column: 1;" xmlns="http://www.w3.org/2000/svg" height="32" viewBox="0 -960 960 960" width="32"><path d="M480-80q-139-35-229.5-159.5T160-516v-244l320-120 320 120v244q0 152-90.5 276.5T480-80Zm0-84q97-30 162-118.5T718-480H480v-315l-240 90v207q0 7 2 18h238v316Z"/></svg>
                    <h3 class="setting-header" style="grid-column: 2;">Privacy</h3>
                </div>

                <div class="settingsBox" id="moderation-bot" name="feed">
                    <svg class="yb-autoFill" style="grid-column: 1;" xmlns="http://www.w3.org/2000/svg" height="32" viewBox="0 -960 960 960" width="32"><path d="M200-120q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h440l200 200v440q0 33-23.5 56.5T760-120H200Zm0-80h560v-400H600v-160H200v560Zm80-80h400v-80H280v80Zm0-320h200v-80H280v80Zm0 160h400v-80H280v80Zm-80-320v160-160 560-560Z"/></svg>
                    <h3 class="setting-header" style="grid-column: 2;">Feed Settings</h3>
                    
                </div>

                <div class="settingsBox" id="monetization" name="monetization">
                    <svg class="yb-autoFill" style="grid-column: 1;" xmlns="http://www.w3.org/2000/svg" height="32" viewBox="0 -960 960 960" width="32"><path d="M444-200h70v-50q50-9 86-39t36-89q0-42-24-77t-96-61q-60-20-83-35t-23-41q0-26 18.5-41t53.5-15q32 0 50 15.5t26 38.5l64-26q-11-35-40.5-61T516-710v-50h-70v50q-50 11-78 44t-28 74q0 47 27.5 76t86.5 50q63 23 87.5 41t24.5 47q0 33-23.5 48.5T486-314q-33 0-58.5-20.5T390-396l-66 26q14 48 43.5 77.5T444-252v52Zm36 120q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Zm0-320Z"/></svg>
                    <h3 class="setting-header" style="grid-column: 2;">Monetization</h3>
                    
                </div>

            </div>
            <div class="settingFormContainer" id="subscription-form-container">
                <div id="subscription-form-box">
                    <form id="subscription-form">
                        
                    </form>
                </div>
            </div>
        </div>
    </div>
    <div class="yb-logo-footer small" id="create-menu-footer" style="position: absolute; bottom: 5px; left: 50%; transform: translateX(-50%);">
        <img src="{% static 'images/main/yourbit-logo2023-01.svg' %}" style="width: 100%; position: relative;" alt="YB Logo" class="yb-logo-small">
    </div>
    <div id="mobile-spacer" style="height: 40px;">
    </div>
<script type="text/javascript">
    var base_url = window.location.origin;
        
    $(document).ready(function() {
        
        /* yb_showMiniBar(); 
        yb_showMenuTask();   */
        
        /* yb_hideSpaceBar();*/

        /* let load_indicator = document.getElementById("yb-loading-core");
        load_indicator.style.display = "none"; */
        
    });
    
    $('#back-to-home').click(function() {
        window.location.href = `${base_url}/bitstream/home/`
    });

    function yb_handleEditClick(e){
        let this_item = e.target;
        let action = this_item.getAttribute("name");
        console.log(action)

        console.log("profile info clicked")

        if (action === "customize") {
            console.log("if")
            yb_toggle2WayContainer("settings");
            customize_url("");
            yb_hideSpaceBar();
        } else {
            let container = yb_toggle2WayContainer(`settings-${action}`);
            if (container[0] === "closing"){
                history.pushState(null, null, "/");
                container[1].setAttribute("data-state", "empty");
            } else {
                console.log("not closing")
                let container_content = container[1].querySelector(".yb-2Way-content");
                container[1].setAttribute("data-state", `settings-${action}`);
                $(container_content).load(`/settings/templates/${action}/`)
                history.pushState({}, "", `/settings/${action}/`);
        
            }
        }

    }

    for (let i = 0; i < document.getElementsByClassName("settingsBox").length; i++) {
        document.getElementsByClassName("settingsBox")[i].addEventListener("click", yb_handleEditClick);
    }

</script>