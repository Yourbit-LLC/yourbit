{% load static %}

<style>
    ::root {
        --primary-color: {{current_profile.custom.profile_splash.primary_color}};
        --secondary-color: {{current_profile.custom.profile_splash.secondary_color}};
        --accent-color: {{current_profile.custom.profile_splash.accent_color}};
        --text-color: {{current_profile.custom.profile_splash.text_color}};
        --title-color: {{current_profile.custom.profile_splash.title_color}};
        --button-color: {{current_profile.custom.profile_splash.button_color}};
        --button-text-color: {{current_profile.custom.profile_splash.button_text_color}};
        --username-font-color: {{current_profile.custom.profile_splash.username_font_color}};
        --name-font-color: {{current_profile.custom.profile_splash.name_font_color}};
    }
</style>
<link rel="stylesheet" type="text/css" href="{% static 'css/yb_profile/yb_profile.css' %}"/>

<input type="hidden" id="profile-data" value="{{current_profile.username}}" data-id="{{ current_profile.id }}" data-username="{{current_profile.user.username}}" data-background = "{{current_profile.custom.background_image.url}}" data-blur="{{profile.custom.background_blur}}" data-brightness="{{current_profile.custom.background_brightness}}" data-icon-color = "{{current_profile.custom.icon_color}}"/>
<div id="profile-page-splash" class="splash-page profile yb-fillContainer">

    <div id="profile-splash-label" class = "yb-splash-label profile yb-center-transform all align-center">
        <div id="profile-image-container" class="profile-image-thumbnail yb-center-margin all plainBorder narrowBorder circle">
            <img src="{{current_profile.custom.profile_image.medium_thumbnail.url}}" class="yb-fillContainer" id="profile-image-splash" style="border-color:{{profile.custom.accent_color}};"/>
        </div>
        <div class="profile-name-splash yb-margin-B30" id="profile-name-splash">
            <h2 id="profile-name-header" style="color:{{profile.custom.profile_splash.name_font_color}};" class="profile-name-header">{{current_profile.display_name}}</h2>
            <b style = "margin: 0px;" id="profile-handle-label" style="color:{{profile.custom.profile_splash.username_font_color}};" class="profile-handle-label">
                <small>@{{current_profile.user.username}}</small>
            </b>
        </div>


        <div id="profile-interaction-container" class="profile-interaction-container yb-center-margin lr">
            <button style="color: {{profile.custom.profile_splash.button_text_color}}; background-color: {{profile.custom.profile_splash.button_color}}; width: 25vw; max-width: 150px;" id="profile-button-connect" class="button-profile-interaction yb-button-flex" data-id = "{{current_profile.user.username}}"
            {% if request.user.id == current_profile.user.id %}
                data-action="edit"
            {% else %}
                {% if current_profile in request.user.profile.following.all or profile in request.user.profile.connections.all %}
                    data-action="manage"
                {% else %}
                    data-action="connect"
                {% endif %}
            {% endif %}
            
            >
                
                {% if request.user.id == current_profile.user.id %}
                    <span id="connect-button-text">Edit</span>
                {% else %}
                    {% if current_profile in request.user.profile.following.all or profile in request.user.profile.connections.all %}
                        <span id="connect-button-text">Manage</span>
                    {% else %}
                        <span id="connect-button-text">Connect</span>
                    {% endif %}
                {% endif %}
    
    
            </button>
    
            <button style="color: {{current_profile.custom.profile_splash.button_text_color}}; background-color: {{profile.custom.custom.profile_splash.button_color}}; width: 25vw; max-width: 150px;" id="profile-button-message" class="button-profile-interaction yb-button-flex" data-id="{{current_profile.user.username}}">
                {% if request.user.id == current_profile.user.id %}
                    <span>Messages</span>
                {% else %}
                    <span>Message</span>
                {% endif %}
            </button>
    
            <button style="color: {{current_profile.custom.profile_splash.button_text_color}}; background-color: {{profile.custom.profile_splash.button_color}}; width: 25vw; max-width: 150px;" data-username="{{current_profile.user.username}}" id="profile-button-about" class="button-profile-interaction yb-button-flex">
                <span>About</span>
            </button>
        </div>
        <div id="profile-bio-container" class="splash-bio-container">
            <h3 id="profile-motto" style="color: {{profile.custom.profile_splash.title_color}};" class="profile-motto">
                {{cyrrent_profile.profile_info.motto}}
            </h3>
            <p id="profile-bio" style="color:{{current_profile.custom.profile_splash.text_color}};" class="splash-bio">
                {{current_profile.profile_info.user_bio}}
            </p>
        </div>
    </div>

    <div id="load-indicator-container-profile" class="detail-load-box">
        <div id="profile-loading" class="loading-circle-detailed">

        </div>
        <p id="load-indicator-label" class="loading-circle-label" style="color: {{profile.custom.profile_splash.primary_color}};">loading bitstream...</p>
    </div>

    <button id="yb-button-enter-profile" class="yb-button-flex yb-button-enter-profile" style="background-color: {{profile.custom.profile_splash.primary_color}};">
        <span>Enter</span>
    </button>
    
    <div id="swipe-up-element" class="swipe-up-element bobbing-object">
        <svg id="swipe-up-icon" class='swipe-up-icon' xmlns="http://www.w3.org/2000/svg" height="48" width="48"><path style="fill:{{profile.custom.profile_splash.primary_color}}" d="M14.15 30.75 12 28.6l12-12 12 11.95-2.15 2.15L24 20.85Z"/></svg>
        <p style = "color: {{current_profile.custom.profile_splash.primary_color}};" class = "swipe-up-text" id="swipe-up-text">Slide up for bitstream</p>

    </div>

</div>

<script class="page-script" type="text/javascript" src="{% static 'scripts/yb_bitstream/yb_bitstream.js' %}"></script>
<script class="page-script" id="page-script" type="text/javascript" src="{% static 'scripts/yb_profile/yb_profile.js' %}"></script>

