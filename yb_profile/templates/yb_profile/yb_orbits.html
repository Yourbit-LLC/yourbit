{% load static %}
<div id='div-header' style='position: relative; display: grid; grid-template-columns: 40px 1fr 40px; margin-left: auto; margin-right: auto; width: 100%; height: 40px;' >
    <div class="cb-panel-back" onclick="yb_toggleMainMenu()"><svg class="yb-center-margin tb" xmlns="http://www.w3.org/2000/svg" height="100%" viewBox="0 -960 960 960" width="24"><path class="yb-autoFill" d="M400-80 0-480l400-400 71 71-329 329 329 329-71 71Z"/></svg></div>
    <h3 class="yb-fillWidth yb-margin-L10 yb-autoText yb-center-margin tb"></h3>
    <div class='yb-button-close' id='cb-panel-close' onclick="yb_toggle2WayContainer('orbits');"><svg class="yb-center-transform all yb-icon small" xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 -960 960 960" width="24"><path d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"/></svg></div>
</div>
<div class="yb-flexColumn" id="messages-info">
    <svg class="yb-autoFill yb-center-margin lr" xmlns="http://www.w3.org/2000/svg" height="48px" viewBox="0 -960 960 960" width="48px" fill="#e8eaed"><path d="M60.39-172.31v-150q0-25.54 17.61-43.73 17.62-18.19 42.39-18.96H251q15.85 0 30.38 7.92 14.54 7.93 24.77 21.77 29.77 43.16 75.73 66.73Q427.85-265 480-265q52.15 0 98.31-23.58 46.15-23.57 76.92-66.73 9.85-13.84 23.89-21.77Q693.15-385 709-385h130.61q25.16.77 42.77 18.96Q900-347.85 900-322.31v150H654.61v-114.38q-35.23 31.84-79.99 49.46-44.77 17.61-94.62 17.61-49.08 0-93.73-17.42-44.65-17.42-80.5-49.27v114H60.39ZM480-335q-33.85 0-65-15.92-31.15-15.93-50.77-44.16-14.84-20.69-34.84-34.5-20-13.8-43.31-20.34 30.54-26.16 87.54-39.46 57-13.31 106.38-13.31 49.77 0 106.88 13.31 57.12 13.3 88.04 39.46-23.31 6.54-43.31 20.34-20 13.81-34.46 34.5-19.61 28.23-50.96 44.16Q514.85-335 480-335ZM171.54-462.31q-41.92 0-72.31-30.38Q68.85-523.08 68.85-565q0-42.92 30.38-72.81 30.39-29.88 72.31-29.88 42.92 0 72.81 29.88 29.88 29.89 29.88 72.81 0 41.92-29.88 72.31-29.89 30.38-72.81 30.38Zm616.92 0q-41.92 0-72.31-30.38-30.38-30.39-30.38-72.31 0-42.92 30.38-72.81 30.39-29.88 72.31-29.88 42.92 0 72.81 29.88 29.88 29.89 29.88 72.81 0 41.92-29.88 72.31-29.89 30.38-72.81 30.38ZM480-582.31q-41.92 0-72.31-30.38-30.38-30.39-30.38-72.31 0-42.92 30.38-72.81 30.39-29.88 72.31-29.88 42.92 0 72.81 29.88 29.88 29.89 29.88 72.81 0 41.92-29.88 72.31-29.89 30.38-72.81 30.38Z"/></svg>
    <b class="align-center" style="color:gray; font-size: 18px; letter-spacing: 2px;">ORBITS</b>
    <p style="font-size: small; font-weight: 550; padding-left: 5px; padding-right: 5px; font-family: 'Roboto', sans-serif; text-align: center;" class="yb-autoText">Community pages you can follow</p>    

</div>

<hr>
<div id="inbox-header" style="height: 40px; scrollbar-width: none; display:grid; grid-template-columns: 4fr 1fr; column-gap: 20px; overflow-x: scroll;" class="yb-hScroll yb-fillWidth yb-relative">
    <div id="filter-container" class="yb-flexRow yb-fillWidth yb-gap5 yb-margin-L5">
        <button class="yb-button-wide active medium-wide rounded yb-autoText font-small yb-center-margin tb" name="following">Following</button>
        <button class="yb-button-wide medium-wide rounded yb-autoText font-small yb-center-margin tb" name = "top">Top</button>
        <button class="yb-button-wide medium-wide rounded yb-autoText font-small yb-center-margin tb" name="trending">Trending</button>
        <button class="yb-button-wide medium-wide rounded yb-autoText font-small yb-center-margin tb" name="recent">Recent</button>

    </div>
</div>
<hr>
<div id="connection-list" class="yb-fillWidth">
    {% if connections %}
        {% for connection in connections %}
        <div id="result-people-{{connection.id}}" class="yb-listItem yb-autoText " data-catid="{{connection.id}}" data-username="ajboston2023">
        
            <div class="full-result-image-container">
                    <img class="full-result-image" style="width:100%; position: relative;" src="{{connection.custom.profile_image.medium_thumbnail.url}}">
            </div>
            <div class="full-result-name-container">
                <p class="full-result-name"><strong>{{connection.display_name}}</strong></p>
                <p class="full-result-username">
                    <small>@{{connection.username}}</small>
                </p>
            </div>
        </div>
        {% endfor %}
    {% else %}
        <div class="yb-fillWidth yb-center-margin yb-margin-T30 yb-margin-B10">
            <h3 class="yb-autoText align-center yb-margin-T10">No connections found</h3>
        </div>
        <br>
        <button id="find-connections-orbits" class="yb-button-flex yb-autoText yb-button-halfWidth">+  Find Orbits</button>
        <script>
    
            document.getElementById("find-connections-orbits").addEventListener("click", function(){
                yb_toggle2WayContainer('orbits');
                SEARCH_FIELD.focus();
                yb_openSpotlight("orbits");
                setTimeout(function(){
                    SEARCH_CONTAINER.classList.add("yb-pulseSmall");
                }, 400);
                
                setTimeout(function(){
                    SEARCH_CONTAINER.classList.remove("yb-pulseSmall");
                }, 1000);
            });
        </script>
    {% endif %}

</div>

<script src="{% static 'scripts/yb_profile/yb_orbits.js' %}"></script>
<div class="yb-logo-footer small" id="orbits-menu-footer" style="position: absolute; bottom: 5px; left: 50%; transform: translateX(-50%);">
    <img src="{% static 'images/main/yourbit-logo2023-01.svg' %}" style="width: 100%; position: relative;" alt="YB Logo" class="yb-logo-small">
</div>