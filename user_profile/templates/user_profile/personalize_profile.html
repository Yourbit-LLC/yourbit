{% load static %}
<link rel="stylesheet" type="text/css" href="{% static 'css/personalization-new.css' %}"/>

    <!--#############################################

        Cropper JS

    #################################################-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.13/cropper.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.13/cropper.min.css" />


    <!--///////     Hidden input for any necessary page data to be initialized on load    ///////-->
    <input type="hidden" id="page-data" data-is-new = "{{user.profile.custom.is_new_user}}">
    
    
    <!--###########################################################

        Image selection container: 
        Where results are laid out on a grid when the user chooses 
        to select a pre-existing photo
    
    ###############################################################-->

    <div class="large-bubble" id="image-selector" style="display:none; overflow: hidden; text-align: center; box-shadow: 1px 1px 10px black; background-color: rgb(50,50,50);Z-index:28; height: 0vh; width: 0vw;">
        
        <h4>Select from Uploads</h4>
        
        <!--Image grid container is where all previously uploaded images load to when retrieved-->
        <div id="image-grid-container" style="height: 80%;">
        </div>

        <!--Image selector controls-->
        <div>
            <button id="cancel-button">Cancel</button>
            <button id="select-button">Select</button>
        </div>
        
    </div>
            <!--***************************************************

                Sticky Preview

        ****************************************************-->
        <div class="yb-panel light sticky">

            <!--//////  Image and Accent Preview  //////-->
            <div id="sticky-preview-image-container">
                <img id="sticky-preview-image" style="max-width: 100%; max-height: 100%;"/>
            </div><!-- (X) CLOSING TAG: For Image Preview Container (X) -->

            <!--//////  Icon Color Preview  //////-->
            <div id = "sticky-preview-icon-container" class ="yb-preview-subcontainer" style="display:none;">
                <div id='icon-color-preview' style='display:grid;'>
                    
                    <!--Space Icons-->
                    <div id='space-icon-grid'>
                        <!--Top Left-->
                        <div class='space-icon-preview-active' id='space-icon-1'>
                            <svg class="space-button-image"xmlns="http://www.w3.org/2000/svg" height="24" width="24"><path id='icon-image-1' style="fill:{{icon_color}}" d="M5.35 17.9q-2.45 0-4.175-1.725-1.725-1.725-1.725-4.2 0-2.45 1.713-4.188Q2.875 6.05 5.35 6.05q1 0 1.937.325Q8.225 6.7 8.95 7.4l1.525 1.475L8.5 10.65 7.15 9.4q-.375-.35-.838-.525Q5.85 8.7 5.35 8.7q-1.35 0-2.3.962-.95.963-.95 2.338 0 1.35.95 2.3.95.95 2.3.95.5 0 .962-.175.463-.175.838-.525l7.9-7.15q.725-.7 1.663-1.025.937-.325 1.937-.325 2.45 0 4.175 1.725Q24.55 9.5 24.55 11.95q0 2.475-1.713 4.212Q21.125 17.9 18.65 17.9q-1 0-1.937-.325-.938-.325-1.663-1.025l-1.525-1.425 2-1.8 1.325 1.225q.375.35.838.525.462.175.962.175 1.35 0 2.3-.963.95-.962.95-2.337 0-1.35-.95-2.3-.95-.95-2.3-.95-.5 0-.962.175-.463.175-.838.525l-7.9 7.15q-.725.7-1.663 1.025-.937.325-1.937.325Z"/></svg>
                        </div>
                        <!--Top Right-->
                        <div class='space-icon-preview' id='space-icon-2'>
                            <svg class="space-button-image" xmlns="http://www.w3.org/2000/svg" height="24" width="24"><path id='icon-image-2' style="fill:{{icon_color}}" d="M3 18v-2h12v2Zm0-5v-2h18v2Zm0-5V6h18v2Z"/></svg>
                        </div>
                        <!--Bottom Left-->
                        <div class='space-icon-preview' id='space-icon-3'>
                            <svg class="space-button-image" xmlns="http://www.w3.org/2000/svg" height="24" width="24"><path id='icon-image-3' style="fill:{{icon_color}}" d="m9.15 17.15 8-5.15-8-5.15ZM12 22.8q-2.25 0-4.213-.85-1.962-.85-3.424-2.312Q2.9 18.175 2.05 16.212 1.2 14.25 1.2 12t.85-4.225Q2.9 5.8 4.363 4.338q1.462-1.463 3.424-2.301Q9.75 1.2 12 1.2t4.225.837q1.975.838 3.438 2.301 1.462 1.462 2.299 3.437Q22.8 9.75 22.8 12q0 2.25-.838 4.212-.837 1.963-2.299 3.426Q18.2 21.1 16.225 21.95q-1.975.85-4.225.85Zm0-2.65q3.425 0 5.788-2.363Q20.15 15.425 20.15 12t-2.362-5.788Q15.425 3.85 12 3.85q-3.425 0-5.787 2.362Q3.85 8.575 3.85 12q0 3.425 2.363 5.787Q8.575 20.15 12 20.15ZM12 12Z"/></svg>
                        </div>
                        <!--Bottom Right-->
                        <div class='space-icon-preview' id='space-icon-4'>
                            <svg class="space-button-image" xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px"><path id='icon-image-4' style="fill:{{icon_color}}" d="M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-4.86 8.86l-3 3.87L9 13.14 6 17h12l-3.86-5.14z"/></svg>
                        </div>
                    </div><!-- (X) CLOSING TAG: For Space Icon Preview Container (X) -->

                    <!--Profile Icons-->
                    <div id='profile-icon-grid'>
                        <!--Top Left-->
                        <div class='profile-icon-preview' id='profile-icon-1'>
                            <svg class="profile-interact-icon" xmlns="http://www.w3.org/2000/svg" height="24" width="24"><path id='icon-image-5' style="fill:{{icon_color}};" d="M5 19h1.4l8.625-8.625-1.4-1.4L5 17.6ZM19.3 8.925l-4.25-4.2 1.4-1.4q.575-.575 1.413-.575.837 0 1.412.575l1.4 1.4q.575.575.6 1.388.025.812-.55 1.387ZM17.85 10.4 7.25 21H3v-4.25l10.6-10.6Zm-3.525-.725-.7-.7 1.4 1.4Z"/></svg>
                        </div>
                        <!--Top Right-->
                        <div class='profile-icon-preview' id='profile-icon-2'>
                            <svg name = "request_friend" data-catid="{{profile.id}}" class='profile-interact-icon' xmlns="http://www.w3.org/2000/svg" height="24" width="24"><path id='icon-image-6' style="fill:{{icon_color}}" d="M18 14v-3h-3V9h3V6h2v3h3v2h-3v3Zm-9-2q-1.65 0-2.825-1.175Q5 9.65 5 8q0-1.65 1.175-2.825Q7.35 4 9 4q1.65 0 2.825 1.175Q13 6.35 13 8q0 1.65-1.175 2.825Q10.65 12 9 12Zm-8 8v-2.8q0-.85.438-1.563.437-.712 1.162-1.087 1.55-.775 3.15-1.163Q7.35 13 9 13t3.25.387q1.6.388 3.15 1.163.725.375 1.162 1.087Q17 16.35 17 17.2V20Zm2-2h12v-.8q0-.275-.137-.5-.138-.225-.363-.35-1.35-.675-2.725-1.013Q10.4 15 9 15t-2.775.337Q4.85 15.675 3.5 16.35q-.225.125-.362.35-.138.225-.138.5Zm6-8q.825 0 1.413-.588Q11 8.825 11 8t-.587-1.412Q9.825 6 9 6q-.825 0-1.412.588Q7 7.175 7 8t.588 1.412Q8.175 10 9 10Zm0-2Zm0 7Z"/></svg>
                        </div>
                        <!--Bottom Left-->
                        <div class='profile-icon-preview' id='profile-icon-3'>
                            <svg class="profile-interact-icon" xmlns="http://www.w3.org/2000/svg" height="24" width="24"><path id='icon-image-7' style="fill:{{icon_color}};" d="M1 20v-4q0-.85.588-1.425Q2.175 14 3 14h3.275q.5 0 .95.25.45.25.725.675.725.975 1.788 1.525Q10.8 17 12 17q1.225 0 2.288-.55 1.062-.55 1.762-1.525.325-.425.762-.675.438-.25.913-.25H21q.85 0 1.425.575Q23 15.15 23 16v4h-7v-2.275q-.875.625-1.887.95Q13.1 19 12 19q-1.075 0-2.1-.337-1.025-.338-1.9-.963V20Zm11-4q-.95 0-1.8-.438-.85-.437-1.425-1.212-.425-.625-1.062-.987Q7.075 13 6.325 13q.55-.925 2.325-1.463Q10.425 11 12 11q1.575 0 3.35.537 1.775.538 2.325 1.463-.725 0-1.375.363-.65.362-1.075.987-.55.8-1.4 1.225Q12.975 16 12 16Zm-8-3q-1.25 0-2.125-.875T1 10q0-1.275.875-2.138Q2.75 7 4 7q1.275 0 2.138.862Q7 8.725 7 10q0 1.25-.862 2.125Q5.275 13 4 13Zm16 0q-1.25 0-2.125-.875T17 10q0-1.275.875-2.138Q18.75 7 20 7q1.275 0 2.138.862Q23 8.725 23 10q0 1.25-.862 2.125Q21.275 13 20 13Zm-8-3q-1.25 0-2.125-.875T9 7q0-1.275.875-2.138Q10.75 4 12 4q1.275 0 2.137.862Q15 5.725 15 7q0 1.25-.863 2.125Q13.275 10 12 10Z"/></svg>
                        </div>
                        <!--Bottom Right-->
                        <div class='profile-icon-preview' id='profile-icon-4'>
                            <svg class="profile-interact-icon" xmlns="http://www.w3.org/2000/svg" height="24" width="24"><path id='icon-image-8' style="fill:{{icon_color}};" d="M4 20q-.825 0-1.412-.587Q2 18.825 2 18V6q0-.825.588-1.412Q3.175 4 4 4h16q.825 0 1.413.588Q22 5.175 22 6v12q0 .825-.587 1.413Q20.825 20 20 20Zm8-7L4 8v10h16V8Zm0-2 8-5H4ZM4 8V6v12Z"/></svg>
                        </div>
                    </div><!-- (X) CLOSING TAG: For Profile Icon Preview Container (X) -->
                </div><!-- (X) CLOSING TAG: For Icon Preview SubContainer (X) -->
            </div><!-- (X) CLOSING TAG: For Icon Preview Container (X) -->
                <div id='bit-colors-preview' class='bit-preview yb-preview-subcontainer' style="background-color: {{bit_background}}; display: block; top:0px; margin-top: 0px; pointer-events:none;">                        
                <input id='advanced-color-bit-background' type = "color" style='display: none; position: absolute; z-index: 3; top: 50%; left:50%; transform: translate(-50%, -50%)'>
                <div id='bit-user-info'>
                    <div id='bit-profile-image'>
                        <img id = 'bit-profile-image-image' src="{{user.profile.custom.image_thumbnail_small.url}}"> 
                    </div>
                    <p id='preview-name'><strong></strong></p>
                    <p id='preview-username'></p>
                </div>
    
                
                <h3 id='preview-title' style='width: 100%; color: {{user.profile.custom.title_color}}'><hr>Test<hr></h3>
                
                <p id='preview-paragraph' style="text-align:{{user.profile.custom.paragraph_align}}; color: {{user.profile.custom.text_color}}">This a test sentence for preview purposes</p>
                <div id='preview-feedback-container'>
                    <div class='preview-feedback-button' id='button1' style="background-color:{{feedback_background_color}}"><svg id="feedback-icon-source" class="fb-icon-preview" xmlns="http://www.w3.org/2000/svg" height="24" width="24"><path style="fill: {{user.profile.custom.feedback_icon_color}" d="M15.5 11Q16.15 11 16.575 10.575Q17 10.15 17 9.5Q17 8.85 16.575 8.425Q16.15 8 15.5 8Q14.85 8 14.425 8.425Q14 8.85 14 9.5Q14 10.15 14.425 10.575Q14.85 11 15.5 11ZM8.5 11Q9.15 11 9.575 10.575Q10 10.15 10 9.5Q10 8.85 9.575 8.425Q9.15 8 8.5 8Q7.85 8 7.425 8.425Q7 8.85 7 9.5Q7 10.15 7.425 10.575Q7.85 11 8.5 11ZM12 17.5Q13.775 17.5 15.137 16.525Q16.5 15.55 17.1 14H15.45Q14.925 14.9 14.025 15.45Q13.125 16 12 16Q10.875 16 9.975 15.45Q9.075 14.9 8.55 14H6.9Q7.5 15.55 8.863 16.525Q10.225 17.5 12 17.5ZM12 22Q9.925 22 8.1 21.212Q6.275 20.425 4.925 19.075Q3.575 17.725 2.788 15.9Q2 14.075 2 12Q2 9.925 2.788 8.1Q3.575 6.275 4.925 4.925Q6.275 3.575 8.1 2.787Q9.925 2 12 2Q14.075 2 15.9 2.787Q17.725 3.575 19.075 4.925Q20.425 6.275 21.212 8.1Q22 9.925 22 12Q22 14.075 21.212 15.9Q20.425 17.725 19.075 19.075Q17.725 20.425 15.9 21.212Q14.075 22 12 22ZM12 12Q12 12 12 12Q12 12 12 12Q12 12 12 12Q12 12 12 12Q12 12 12 12Q12 12 12 12Q12 12 12 12Q12 12 12 12ZM12 20Q15.325 20 17.663 17.663Q20 15.325 20 12Q20 8.675 17.663 6.337Q15.325 4 12 4Q8.675 4 6.338 6.337Q4 8.675 4 12Q4 15.325 6.338 17.663Q8.675 20 12 20Z"/></svg></div>
                    <div class='preview-feedback-button' id='button2' style="background-color:{{feedback_background_color}}"><svg id="feedback-icon-source" class="fb-icon-preview" xmlns="http://www.w3.org/2000/svg" height="24" width="24"><path style="fill:{{user.profile.custom.feedback_icon_color}}" d="M15.5 11Q16.15 11 16.575 10.575Q17 10.15 17 9.5Q17 8.85 16.575 8.425Q16.15 8 15.5 8Q14.85 8 14.425 8.425Q14 8.85 14 9.5Q14 10.15 14.425 10.575Q14.85 11 15.5 11ZM8.5 11Q9.15 11 9.575 10.575Q10 10.15 10 9.5Q10 8.85 9.575 8.425Q9.15 8 8.5 8Q7.85 8 7.425 8.425Q7 8.85 7 9.5Q7 10.15 7.425 10.575Q7.85 11 8.5 11ZM12 17.5Q13.775 17.5 15.137 16.525Q16.5 15.55 17.1 14H15.45Q14.925 14.9 14.025 15.45Q13.125 16 12 16Q10.875 16 9.975 15.45Q9.075 14.9 8.55 14H6.9Q7.5 15.55 8.863 16.525Q10.225 17.5 12 17.5ZM12 22Q9.925 22 8.1 21.212Q6.275 20.425 4.925 19.075Q3.575 17.725 2.788 15.9Q2 14.075 2 12Q2 9.925 2.788 8.1Q3.575 6.275 4.925 4.925Q6.275 3.575 8.1 2.787Q9.925 2 12 2Q14.075 2 15.9 2.787Q17.725 3.575 19.075 4.925Q20.425 6.275 21.212 8.1Q22 9.925 22 12Q22 14.075 21.212 15.9Q20.425 17.725 19.075 19.075Q17.725 20.425 15.9 21.212Q14.075 22 12 22ZM12 12Q12 12 12 12Q12 12 12 12Q12 12 12 12Q12 12 12 12Q12 12 12 12Q12 12 12 12Q12 12 12 12Q12 12 12 12ZM12 20Q15.325 20 17.663 17.663Q20 15.325 20 12Q20 8.675 17.663 6.337Q15.325 4 12 4Q8.675 4 6.338 6.337Q4 8.675 4 12Q4 15.325 6.338 17.663Q8.675 20 12 20Z"/></svg></div>
                    <div class='preview-feedback-button' id='button3' style="background-color:{{feedback_background_color}}"><svg id="feedback-icon-source" class="fb-icon-preview" xmlns="http://www.w3.org/2000/svg" height="24" width="24"><path style=“fill:{{user.profile.custom.feedback_icon_color}}” d="M6 14H18V12H6ZM6 11H18V9H6ZM6 8H18V6H6ZM22 22 18 18H4Q3.175 18 2.588 17.413Q2 16.825 2 16V4Q2 3.175 2.588 2.587Q3.175 2 4 2H20Q20.825 2 21.413 2.587Q22 3.175 22 4ZM4 4V16Q4 16 4 16Q4 16 4 16H18.825L20 17.175V4Q20 4 20 4Q20 4 20 4H4Q4 4 4 4Q4 4 4 4ZM4 4V17.175V16Q4 16 4 16Q4 16 4 16V4Q4 4 4 4Q4 4 4 4Q4 4 4 4Q4 4 4 4Z"/></svg></div>
                    <div class='preview-feedback-button' id='button4' style="background-color:{{feedback_background_color}}"><svg id="feedback-icon-source" class="fb-icon-preview" xmlns="http://www.w3.org/2000/svg" height="24" width="24"><path style=“fill:{{user.profile.custom.feedback_icon_color}}” d="M6 23Q5.175 23 4.588 22.413Q4 21.825 4 21V10Q4 9.175 4.588 8.587Q5.175 8 6 8H9V10H6Q6 10 6 10Q6 10 6 10V21Q6 21 6 21Q6 21 6 21H18Q18 21 18 21Q18 21 18 21V10Q18 10 18 10Q18 10 18 10H15V8H18Q18.825 8 19.413 8.587Q20 9.175 20 10V21Q20 21.825 19.413 22.413Q18.825 23 18 23ZM11 16V4.825L9.4 6.425L8 5L12 1L16 5L14.6 6.425L13 4.825V16Z"/></svg></div>
                    <div class='preview-feedback-button' id='button5' style="background-color:{{feedback_background_color}}"><svg id="feedback-icon-source" class="fb-icon-preview" xmlns="http://www.w3.org/2000/svg" height="24" width="24"><path style=“fill:{{user.profile.custom.feedback_icon_color}}” d="M11.025 21V18.85Q9.7 18.55 8.738 17.7Q7.775 16.85 7.325 15.3L9.175 14.55Q9.55 15.75 10.288 16.375Q11.025 17 12.225 17Q13.25 17 13.963 16.538Q14.675 16.075 14.675 15.1Q14.675 14.225 14.125 13.712Q13.575 13.2 11.575 12.55Q9.425 11.875 8.625 10.938Q7.825 10 7.825 8.65Q7.825 7.025 8.875 6.125Q9.925 5.225 11.025 5.1V3H13.025V5.1Q14.275 5.3 15.088 6.012Q15.9 6.725 16.275 7.75L14.425 8.55Q14.125 7.75 13.575 7.35Q13.025 6.95 12.075 6.95Q10.975 6.95 10.4 7.438Q9.825 7.925 9.825 8.65Q9.825 9.475 10.575 9.95Q11.325 10.425 13.175 10.95Q14.9 11.45 15.788 12.537Q16.675 13.625 16.675 15.05Q16.675 16.825 15.625 17.75Q14.575 18.675 13.025 18.9V21Z"/></svg>
</div>
                </div>
                
            </div><!-- (X) CLOSING TAG: For Bit Colors Preview Container (X) -->
        </div><!-- (X) CLOSING TAG: For Preview Container (X) -->


    <!--################################################ 
        
            Bit Container

    ####################################################-->

    <div id="bit-container">
    


        <!--***************************************************
            
                Image Croppers

        *****************************************************-->

            
            <!--//////      Profile Image Cropper      //////-->
            <div class="dropdown-large" id="profile-cropper" style="display:none; left: 2.5px; position: relative; margin-left: auto; margin-right: auto;">
                
                <!--Profile Image import options-->
                <button id="profile-cropper-back" class="yb-form-button" style="background-color: darkred;" data-state="0">Back</button>
                <button id="profile-cropper-select-button" class="yb-form-button" onclick="showImageSelection()">Select from Uploads</button>
                <button id="profile-upload-button" class="yb-form-button" onclick="showUpload('profile-image')">Upload New</button>
                
                <!--Profile image upload-->
                <input type="file" id="profile-image-input" style="width:225px; display:none;" onchange="previewImage('profile-image')" />
                <br>
                <br>

                <!--Profile cropper image-->
                <img id="profile-image-preview" style=" object-fit: contain;max-width:100%; max-height: 250px; margin-left: auto; margin-right: auto;"/>
                <br />
                <input type="hidden" id="cropper-output" value="">


                <!--Profile Cropper Submision Controls (Save)-->
                <div id="profile-cropper-submission-controls" style="display:none; width:100%; background-color: rgba(0, 0, 0, 0.5);">
                    <button id="profile-advanced-options-button" style="margin-top: 2px; position: absolute; left: 5px;" class = "yb-form-button">Show Advanced Options</button>
                    <button id="cropper-save" class="yb-form-button" style="background-color: darkgreen; position: absolute; right: 5px;" onclick="uploadImage('profile-image')">Save</button>
                </div>

            </div><!-- (X) CLOSING TAG: For Profile Image Cropper (X) -->

            <!--//////      Background Image Cropper      //////-->
            <div class="dropdown-large" id="background-cropper" style="display:none; left: 2.5px; position: relative; margin-left: auto; margin-right: auto;">
                
                <!--Background Image import options-->
                <button id="background-cropper-back" class="yb-form-button" style="background-color: darkred;" data-state="0">Back</button>
                <button id="background-cropper-select-button" class="yb-form-button" onclick="showImageSelection()">Select from Uploads</button>
                <button id="background-`upload-button" class="yb-form-button" onclick="showUpload('background-image')">Upload New</button>
                
                <!--Background image upload-->
                <input type="file" id="background-image-input" style="width:225px; display:none;" onchange="previewImage('mobile-background')" />
                <br />
                <br />

                <!--Background cropper image-->
                <img id="background-image-preview" style="object-fit: contain;max-width:100%; max-height: 250px; margin-left: auto; margin-right: auto;"/>
                <br />
                <br />
                <input type="hidden" id="cropper-output" value="">

                <!--Background Cropper Submision Controls (Save)-->
                <div id="background-cropper-submission-controls" style="display:none; width:100%; text-align:center;">
                    
                        <button id="background-advanced-options-button" style="margin-top: 2px; position: absolute; left: 5px;" class = "yb-form-button">Show Advanced Options</button>
                        <button id="cropper-save" class="yb-form-button" style="background-color: darkgreen; position: absolute; right: 5px;" onclick="uploadImage('background-image')">Save</button>
                    
                </div>
                
            <script>         
                let background_image_back_button = document.getElementById("background-cropper-back");
                background_image_back_button.addEventListener("click", function() {
                    let state = this.getAttribute("data-state");
                    console.log("clicked");
                    console.log(state);
                    if (state === "0"){
                        $("#profile-cropper").fadeOut();
                        $("#background-cropper").fadeOut();
                        $("#profile-images").fadeIn();
                    } else {
                        $("#background-cropper-select-button").fadeIn();
                        $("#upload-button").fadeIn();
                        $("#image-input").hide();
                    }
                });
            </script>

        </div><!-- (X) CLOSING TAG: For Background Image Cropper (X) -->

        <div id="profile-image-panel" class="yb-panel-wide">
            <h4 style="grid-column: 1/3; grid-row: 1; text-align: left;">Profile Images</h4>
            <div>
            
                <b style="margin-bottom: 10px; margin-top: 10px;">Profile Picture</b>
                <br>
                <br>
                <div class='edit-image-options' style="margin-left: 10px;" id='profile-image-options'>
                    <button id="edit-profile-img" class="wide-button" type="button">Edit</button>
                </div>
                <script>
                </script>
                
            </div>

            <div>
                
                <b style="position: relative; margin-bottom: 20px; margin-top: 20px;">Profile Background</b> 
                <br>
                <br>
                <div class='edit-image-options' id="background-image-options" style="margin-left: 10px;">
                    <button id="edit-background-img" class="wide-button" type="button">Edit</button>
                    <input style="display:none;" type="file" id='background-img-upload-field' class='image-upload-field'>

                </div>
                
                <br><br>
            </div>
        </div>


    <!--*****************************************************
    
                UI Colors
    
    *********************************************************-->

        <div class="yb-panel-wide" style="text-align:left;">

            <!--//////    SECTION HEAD    //////-->
            <div class="yb-panel-header wide" style="background-color: rgb(60, 60, 60); height: 49px; border-radius: 20px;">
                
                <!--Header Text-->
                <h3 style="margin: 15px auto;">UI Colors</h3>

                <!--UI Color Toggle Switch-->
                <div style="background-color: rgb(20, 20, 20);  padding: 2px 10px 1px 4px; border-radius: 0px 20px 20px 0px;  display: grid; margin-top: 0px; column-gap: 10px; grid-template-columns: 50px auto; position: absolute; text-align: left; right: 0px;">
                    <label class="yb-switch-round" id="yb-custom-colors" style="margin-top: 8px; grid-column: 1;">
                        <input type="checkbox" class="checkbox" name="custom_colors" id="yb-check-custom-colors" {% if user.profile.custom.ui_colors_on %}checked{% endif %}>
                        <span class="slider round"></span>
                    </label>
                    
                    <!--Toggle Switch Label-->
                    <p style="grid-column: 2; margin-top: 12px;">Use Custom Colors</p>
                
                </div>

            </div>                        

            <!--//////    Color Selection Grid    //////-->
            <div id='color-customizations' style='position: relative; text-align: center; display:grid; grid-template-columns: 70px 70px 70px; margin-bottom: 10px; width: 210px; margin-left: auto; margin-right: auto;'>
                <!--User Color-->
                <div>
                    <input class="color-selector" id="primary-color-select" type="color" name='primary' value="{{bit_background}}">
                    <br>
                    <label class="color-select-label" for="primary-color-select">Primary</label>
                </div>
                
                <!--Accent Color-->
                <div>
                    <input  class="color-selector" id="accent-color-select" type="color" name='accent' value="{{accent_color}}">
                    <br>
                    <label class="color-select-label" for="accent-color-select">Secondary</label>
                </div>
                
                <!--Icon Color-->
                <div>
                    <input class="color-selector" id="icon-color-select" type="color" name='icon' value="{{icon_color}}">
                    <br>
                    <label class="color-select-label" for="icon-color-select">Icon</label>
                </div>        

            </div>
        </div>    
            
        <!--*****************************************************
    
                Bit Colors
    
        *********************************************************-->
        <div class="yb-panel-wide" style="text-align:left;">

            <!--//////    SECTION HEAD    //////-->
            <div class="yb-panel-header wide" style="background-color: rgb(60, 60, 60); height: 49px; border-radius: 20px;">
                
                <!--Header Text-->
                <h3 style="margin: 15px auto;">Bits</h3>

                <!--Bit Color Toggle Switch-->
                <div style="background-color: rgb(20, 20, 20); padding: 2px 10px 1px 4px; border-radius: 0px 20px 20px 0px;  display: grid; margin-top: 0px; column-gap: 10px; grid-template-columns: 50px auto; position: absolute; text-align: left; right: 0px;">
                    <label class="yb-switch-round" id="yb-custom-colors" style="margin-top: 8px; grid-column: 1;">
                        <input type="checkbox" class="checkbox" name="custom_colors" id="yb-check-custom-colors" {% if user.profile.custom.bit_colors_on %}checked{% endif %}>
                        <span class="slider round"></span>
                    </label>
                    
                    <!--Toggle Switch Label-->
                    <p style="grid-column: 2; margin-top: 12px;">Use Custom Colors</p>
                </div>
            </div><!-- (X) CLOSING TAG: For Panel Header Cropper (X) -->
            
            <!--///////    Bit Color Selection Grid   ///////-->
            <div id='bit-color-customizations' style='position: relative; width: 280px; margin-left: auto; margin-right: auto; text-align: center;  display:grid; grid-template-columns: 70px 70px 70px 70px; pointer-events:auto;'>
                
                <!--Title color option container-->
                <div>
                    <input class="color-selector" id="tfont-color-select" type="color" name='title' value="{{title_color}}">
                    <br>
                    <label class="color-select-label" for="tfont-color-select">Title</label>
                </div>

                <!--Paragraph color option container-->
                <div>
                    <input class="color-selector" id="pfont-color-select" type="color" name='text' value="{{text_color}}">
                    <br>
                    <label class="color-select-label" for="pfont-color-select" >Paragraph</label>
                </div>

                <!--Feedback button Background color option container-->
                <div>

                    <input class="color-selector" id="feedback-background-color-select" type="color" name='fb_background' value="{{feedback_background_color}}">
                    <br>
                    <label class="color-select-label" for="feedback-background-color-select">Selected Button</label>
                </div>

                <!--Feedback button Icon color option container-->
                <div>
                    <input class="color-selector" id="feedback-icon-color-select" type="color" name='fb_icon' value="{{feedback_icon_color}}">
                    <br>
                    <label class="color-select-label" for="feedback-icon-color-select">Selected Icon</label>

                </div>
            </div>
            
            <!--//////    Dropdown for title font styles    //////-->
            <p style="width: 100%; text-align: left; font-size: 14px; margin-top: 10px; margin-bottom: 4px;" for='yb-align-text'>Title Font Style</p>
            <select type="text" class='yb-single-line-input' name="yb-align-text" id="yb-align-text" style='color: white;'>
                <option value="arial">Arial</option>
                <option value="times">Times New Roman</option>
                <option value="add">Add Fonts</option>
            </select>

            <!--//////    Drop down for paragraph font styles    //////-->
            <p style="width: 100%; text-align: left; font-size: 14px; margin-top: 10px; margin-bottom: 4px;" for='yb-align-text'>Paragraph Font Style</p>
            <select type="text" class='yb-single-line-input' name="yb-align-text" id="yb-align-text" style='color: white;'>
                <option value="arial">Arial</option>
                <option value="times">Times New Roman</option>
                <option value="add">Add Fonts</option>
            </select>

            <!--//////    Label text alignment options    //////-->
            <p style="width: 100%; text-align: left; font-size: 14px; margin-top: 10px;" for='yb-align-text'>Paragraph Alignment</p>
            <input type = "hidden" name = "yb-align-text" value = "{{request.user.profile.custom.paragraph_align}}" id="hidden-field-alignParagraph" >
            <!--//////    Text Alignment Options    //////-->
            <div class = "three-part-button-container">
                <!--Left Alignment Option-->
                <div class = "yb-three-part-left" name="left" id="button-align-left">
                    <svg style="position: absolute; left: 50%; top: 50%; transform: translate(-50%, -50%);" xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 96 960 960" width="24"><path class="three-part-icon-active" d="M120 936v-80h720v80H120Zm0-160v-80h480v80H120Zm0-160v-80h720v80H120Zm0-160v-80h480v80H120Zm0-160v-80h720v80H120Z"/></svg>
                </div>
                <!--Center Alignment Option-->
                <div class="yb-three-part-center" name="center" id="button-align-center">
                    <svg style="position: absolute; left: 50%; top: 50%; transform: translate(-50%, -50%);" xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 96 960 960" width="24"><path class="three-part-icon" d="M120 936v-80h720v80H120Zm160-160v-80h400v80H280ZM120 616v-80h720v80H120Zm160-160v-80h400v80H280ZM120 296v-80h720v80H120Z"/></svg>
                </div>
                <!--Right Alignment Option-->
                <div class="yb-three-part-right" name="right" id="button-align-right">
                    <svg style="position: absolute; left: 50%; top: 50%; transform: translate(-50%, -50%);" xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 96 960 960" width="24"><path class="three-part-icon" d="M120 936v-80h720v80H120Zm240-160v-80h480v80H360ZM120 616v-80h720v80H120Zm240-160v-80h480v80H360ZM120 296v-80h720v80H120Z"/></svg>
                </div>
            </div>
        </div>
<!-- CLOSING TAG: bit container - *NO CONTENT BEYOND THIS POINT* - except for scripts and mobile spacer -->
</div>
<div id="mobile-spacer" style='height: 90px;'>

</div>

<!--Page Scripts-->
<script type="text/javascript" class="page-script" src="{% static 'scripts/yb_crop.js' %}"></script>
<script type="text/javascript" class="page-script" src="{% static 'scripts/yb-customization.js' %}"></script>
